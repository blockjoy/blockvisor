version: 0.0.2
container_uri: docker-daemon://test_v2:latest

sku_code: SKU_code
org_id: null
description: Example image description
visibility: public

protocol_key: testing
variants:
  - key: test
    archive_pointers:
      - pointer: !store_id unique-store-id-v1
    min_cpu: 1
    min_memory_bytes: 1000000000
    min_disk_bytes: 2000000000

firewall_config:
  default_in: deny
  default_out: allow
  rules:
    - key: example_rule
      description: null
      protocol: both
      direction: in
      action: allow
      ips:
        - ip: 1.2.3.4/30
          name: authorize client ip
      ports:
        - port: 12901
          name: service port
properties:
  - key: arbitrary text property
    description: this is some text property example
    dynamic_value: true
    default_value: default_value
    ui_type: !text
      new_archive: false
      add_cpu: 1
      add_memory_bytes: -1
      add_disk_bytes: 10
  - key: switch property
    description: this is some switch example
    dynamic_value: true
    default_value: off_value
    ui_type: !switch
      on:
        value: on_value
        impact:
          add_cpu: 3
          add_memory_bytes: 10000000
          add_disk_bytes: 10000000000
      off:
        value: off_value
        impact: null
  - key: enum property
    description: this is some enum example
    required: true
    dynamic_value: true
    default_value: variant_a
    ui_type: !enum
      - value: variant_a
        impact: null
      - value: variant_b
        impact: null
      - value: variant_c
        impact:
          add_cpu: -1
          add_memory_bytes: 1000000
          add_disk_bytes: 1000000000
